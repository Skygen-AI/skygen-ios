# SKYGEN iOS — TODO Checklist (Design/UI only)

Монолитный чеклист для проектирования и реализации клиентского UI в SwiftUI. Бэкенд вне зоны (используем моки/заглушки). Тема: тёмная, монохром, базовый фон #202020. Платформа: iOS, портрет.

Легенда: [ ] не начато, [~] в работе, [x] готово

## Эпик: Дизайн‑токены и темизация
- [ ] Определить цветовые роли (монохром, dark): Background, Surface, Primary, Secondary, Border, Divider, TextPrimary, TextSecondary, Accent, Error, Warning, Success
- [ ] Сформировать палитру серых оттенков и контрастов (фон/поверхности/бордеры/текст уровни) на базе #202020
- [ ] Определить типографику (семейство SF Pro, шкалы размеров, веса, межстрочные)
- [ ] Определить spacing scale (xs→xl), радиусы (none/s/m/l), тени, opacity, blur, анимационные константы (durations/easings)
- [ ] Реализовать ThemeProvider для SwiftUI (`Theme.colors`, `Theme.typography`, `Theme.spacing`, `Theme.radius`, `Theme.motion`)
- [ ] Поддержать системную тёмную тему (пока фиксированная dark), подготовить возможность light в будущем
- [ ] Обновить стандартные контролы под токены (Buttons, TextField, Toggles, List, Card)

## Эпик: Бренд и визуал
- [ ] Временный мок логотипа/иконки приложения (монохром «skygen»/символ)
- [ ] Экран-заставка (Launch Screen) в dark стиле
- [ ] Проверка читаемости/контраста всех ключевых экранов (WCAG AA в dark)

## Эпик: Навигация и структура
- [ ] Стартовая архитектура навигации на SwiftUI (NavigationStack + TabView)
- [ ] Таб‑бар на 5 вкладок: Чаты, Устройства, Действия, Интеграции, Настройки
- [ ] Иконки SF Symbols для всех вкладок (active/inactive состояния)
- [ ] Пустые состояния для каждого таба

## Эпик: Deep Links
- [ ] Зарезервировать схему `skygen://`
- [ ] Базовые маршруты: `skygen://chat/{id}`, `skygen://device/{id}`, `skygen://action/{id}`, `skygen://integration/{id}`, `skygen://settings`
- [ ] Обработка открытия из пуша в конкретный экран (позже расширить)

## Эпик: Аутентификация и безопасность
- [ ] Экран «Sign In» (Email magic link)
- [ ] Поток Magic Link: ввод email → подтверждение → состояние ожидания → успех/ошибка
- [ ] 2FA: выбор метода (Email code / Authenticator TOTP)
- [ ] Экран ввода одноразового кода (универсальный для email/TOTP)
- [ ] App Lock: Face ID/код (локальная защита после входа)
- [ ] Сброс/смена метода 2FA в настройках безопасности
- [ ] Состояния ошибок/нет сети/повтор

## Эпик: Онбординг
- [ ] Интро-слайды (3–4 экрана, мок контент)
- [ ] Экран преференций: язык (English), тема (fixed dark), согласия
- [ ] Разрешения: запрос уведомлений (объяснение почему), микрофон/камера/медиа по месту использования
- [ ] Подключение аккаунтов (Gmail, Telegram, Google Calendar, Google Drive) — шаг с возможностью «Пропустить»
- [ ] Резюме онбординга + переход в приложение

## Эпик: Чаты
- [ ] Список чатов: поиск, папки, пины/избранное, сортировки
- [ ] Экран чата: поддержка текста, изображений/файлов, голосовой диктовки (системная)
- [ ] Отправка/получение: потоковый ответ, Regenerate, Edit&Resend, копирование
- [ ] Поддержка Markdown и код-блоков с копированием
- [ ] Панель быстрых действий: /команды, шорткаты, быстрые вложения (Камера/Фото/Файлы/Диктовка)
- [ ] Лимиты вложений (размер/количество) — UI‑валидация (значения уточнить)
- [ ] Пустые состояния: первый чат / нет сети / лимиты / ошибки
- [ ] Управление диалогами: создание/переименование/перемещение в папки/удаление
- [ ] Экран управления папками
- [ ] Нет TTS, нет реакций/цитирования/пересылки (исключить из UI)

## Эпик: Устройства
- [ ] Список устройств: тип ОС, версия, онлайн/оффлайн, последнее действие (моки)
- [ ] Карточка устройства (детали): статус, логи, быстрые действия (запуск, остановка, перезапуск, обновление)
- [ ] Права/политики per device: теги/ограничения (UI моки), шаблоны политик
- [ ] Экран логов: фильтры, поиск, пагинация (моки)

## Эпик: Действия (Active)
- [ ] Экран активных действий: статусы (Queued/Running/Succeeded/Failed), прогресс
- [ ] Операции: отмена/повтор/подробности
- [ ] Пустые/ошибочные состояния

## Эпик: Интеграции
- [ ] Список интеграций (Gmail, Telegram, Google Calendar, Google Drive)
- [ ] Карточка интеграции: подключено/требуется вход, область доступа, «Переподключить»
- [ ] Настройки per интеграция: разрешённые действия, уровень доступа (UI)
- [ ] Обработка просроченных токенов — UI‑состояния без пуш‑уведомлений

## Эпик: Настройки
- [ ] Профиль: аватар, имя, email, язык (English only)
- [ ] Уведомления: типы (чаты/устройства/действия), приоритеты, «Не беспокоить»
- [ ] Приватность: телеметрия (дефолт?), очистка истории, удаление локальных данных
- [ ] Безопасность: App Lock (Face ID/код), скрытие превью в переключателе приложений
- [ ] О правовых: Политика конфиденциальности, Условия, EULA — экраны
- [ ] Помощь: FAQ, обратная связь (email), контакт поддержки

## Эпик: Уведомления и Live Activities
- [ ] Типы пушей: новые ответы, статусы действий, статусы устройств
- [ ] Навигация из пушей в нужные экраны (deeplink)
- [ ] Быстрые действия в пуше (решить позже) — заглушки в UI
- [ ] Live Activities: отображение прогресса активных задач устройств

## Эпик: Виджеты, Siri Shortcuts/App Intents, Share Sheet
- [ ] Виджеты: быстрый старт чата, последние чаты, быстрые действия устройств (моки)
- [ ] App Intents/Siri Shortcuts: создать чат, отправить быстрый промпт, запустить команду на устройстве (моки)
- [ ] Share Sheet: отправка текста/файлов в конкретный или новый чат

## Эпик: Монетизация (моки)
- [ ] Экран тарифов/paywall (мок контент)
- [ ] Возможность пропустить («Skip/Not now»)
- [ ] Скелет для восстановления покупок (UI‑кнопка, без логики)

## Эпик: Доступность и локализация
- [ ] Язык: English only, подготовить структуру для будущих локализаций
- [ ] Dynamic Type поддержка (масштабирование шрифтов)
- [ ] VoiceOver/Accessibility Labels для интерактивных элементов
- [ ] Контраст и размеры интерактивных зон (минимумы Apple HIG)

## Эпик: Анимации и микровзаимодействия (максимальные)
- [ ] Отправка сообщения: тактильная отдача + анимация отправки
- [ ] Потоковый ответ: плавное проявление, «typing» индикация
- [ ] Состояния загрузки: скелетоны/шиммер
- [ ] Переключения табов: живые переходы, физика
- [ ] Перетаскивание вложений/превью: пружинящие эффекты
- [ ] Общее: константы анимаций в `Theme.motion`, единый стиль

## Эпик: Дизайн‑система (UI‑компоненты)
- [ ] Кнопки: Primary/Secondary/Tertiary/Destructive, размеры, иконки
- [ ] Поля ввода: текстовые, email, код (OTP), состояние ошибки/валидности
- [ ] Тумблеры/чекбоксы/радио (по необходимости UI)
- [ ] Карточки/контейнеры: Surface, выделение, бордеры
- [ ] Списки: ячейки, swipe‑actions, секции, разделители
- [ ] Навигационные элементы: AppBar/Toolbar, TabBar, Segmented Control
- [ ] Поиск: SearchBar/поле поиска, пустые состояния
- [ ] Бейджи/теги/статусы
- [ ] Диалоги/Bottom Sheet/Action Sheet/Toast/Banner
- [ ] Плейсхолдеры/скелетоны для всех ключевых экранов

## Эпик: Состояния пустоты и ошибок
- [ ] Единые иллюстрации/иконки для пустых состояний (монохром)
- [ ] Тексты и CTA для: нет интернета, нет данных, ошибка запроса, нет прав/разрешений
- [ ] Экран технических работ/обновления приложения (мок)

## Эпик: Моки и данные
- [ ] Единый слой MockData для чатов, устройств, действий, интеграций
- [ ] Тумблер «Use Mock Data» в настройках разработчика (скрытый)
- [ ] Стабильные id/фикстуры для deeplink и навигации

## Эпик: MVP скоуп (к релизу 1.0)
- [ ] Навигация на 5 табов + базовые экраны
- [ ] Sign In (Magic Link) + 2FA + Face ID App Lock
- [ ] Онбординг с подключением аккаунтов (опционально)
- [ ] Чаты: список/поиск/папки/пины + экран чата с текст/вложения/стрим/markdown
- [ ] Устройства: список + карточка (моки)
- [ ] Действия: список/детали (моки)
- [ ] Интеграции: список/карточки/подключение (моки)
- [ ] Настройки: профиль, уведомления, приватность, безопасность, легал, помощь
- [ ] Пуши + deeplink в основные экраны
- [ ] Live Activities для активных задач (моки прогресс)
- [ ] Виджеты/Shortcuts/Share Sheet (моки)
- [ ] Paywall (мок) с «Skip»
- [ ] Базовые анимации и скелетоны
- [ ] Доступность (база) и Dynamic Type

## Эпик: Backlog (v1.1+)
- [ ] Расширенные быстрые действия в пушах (Ответить/Отменить/Открыть устройство)
- [ ] Доп. форматы вложений, предпросмотры, ограничения по размерам
- [ ] Подробные политики per device с шаблонами
- [ ] Расширенные фильтры логов и сохранённые фильтры
- [ ] Продвинутая телеметрия с настраиваемой детализацией
- [ ] Тема Light и кастомизация

## Открытые решения (TBD)
- [ ] Подтвердить 5‑й таб: «Интеграции» ок?
- [ ] Значения лимитов вложений (размер/количество)
- [ ] Дефолт телеметрии (вкл/выкл по умолчанию)
- [ ] Набор быстрых действий в пуше
- [ ] Параметры TOTP (имя issuer, длительность шага)

## Definition of Done (общие критерии)
- [ ] Экран покрыт: состояния загрузки, успеха, ошибки, пустоты
- [ ] Соответствие токенам темы и типографике
- [ ] Доступность: Dynamic Type, VoiceOver метки, контраст
- [ ] Локализация ключей/строк (пока en-US), готовность к i18n
- [ ] Анимации соответствуют `Theme.motion`, не мешают доступности
- [ ] Переходы/deeplinks работают из пушей (где применимо)
- [ ] Моки/фикстуры добавлены и изолированно включаются

---

Примечания:
- iOS only, портрет; TTS/реакции/пересылка — вне MVP.
- Бэкенд и реальные токены не реализуем; UX ориентирован на моки и заглушки.

