# SKYGEN iOS — TODO Checklist (Design/UI only)

Монолитный чеклист для проектирования и реализации клиентского UI в SwiftUI. Бэкенд вне зоны (используем моки/заглушки). Тема: тёмная, монохром, базовый фон #202020. Платформа: iOS, портрет.

Легенда: [ ] не начато, [~] в работе, [x] готово

## Эпик: Дизайн‑токены и темизация
- [x] Определить цветовые роли (монохром, dark): Background, Surface, Primary, Secondary, Border, Divider, TextPrimary, TextSecondary, Accent, Error, Warning, Success
- [x] Сформировать палитру серых оттенков и контрастов (фон/поверхности/бордеры/текст уровни) на базе #202020
- [x] Определить типографику (семейство SF Pro, шкалы размеров, веса, межстрочные)
- [x] Определить spacing scale (xs→xl), радиусы (none/s/m/l), тени, opacity, blur, анимационные константы (durations/easings)
- [x] Реализовать ThemeProvider для SwiftUI (`Theme.colors`, `Theme.typography`, `Theme.spacing`, `Theme.radius`, `Theme.motion`)
- [x] Поддержать системную тёмную тему (пока фиксированная dark), подготовить возможность light в будущем
- [x] Обновить стандартные контролы под токены (Buttons, TextField, Toggles, List, Card)

## Эпик: Бренд и визуал
- [x] Временный мок логотипа/иконки приложения (монохром «skygen»/символ)
- [x] Экран-заставка (Launch Screen) в dark стиле
- [x] Проверка читаемости/контраста всех ключевых экранов (WCAG AA в dark)

## Эпик: Навигация и структура
- [x] Стартовая архитектура навигации на SwiftUI (NavigationStack + TabView)
- [x] Таб‑бар на 5 вкладок: Чаты, Устройства, Действия, Интеграции, Настройки
- [x] Иконки SF Symbols для всех вкладок (active/inactive состояния)
- [x] Пустые состояния для каждого таба

## Эпик: Deep Links
- [x] Зарезервировать схему `skygen://`
- [x] Базовые маршруты: `skygen://chat/{id}`, `skygen://device/{id}`, `skygen://action/{id}`, `skygen://integration/{id}`, `skygen://settings`
- [x] Обработка открытия из пуша в конкретный экран (позже расширить)

## Эпик: Аутентификация и безопасность
- [x] Экран «Sign In» (Email magic link)
- [x] Поток Magic Link: ввод email → подтверждение → состояние ожидания → успех/ошибка
- [x] 2FA: выбор метода (Email code / Authenticator TOTP)
- [x] Экран ввода одноразового кода (универсальный для email/TOTP)
- [x] App Lock: Face ID/код (локальная защита после входа)
- [x] Сброс/смена метода 2FA в настройках безопасности
- [x] Состояния ошибок/нет сети/повтор

## Эпик: Онбординг
- [x] Интро-слайды (3–4 экрана, мок контент)
- [x] Экран преференций: язык (English), тема (fixed dark), согласия
- [x] Разрешения: запрос уведомлений (объяснение почему), микрофон/камера/медиа по месту использования
- [x] Подключение аккаунтов (Gmail, Telegram, Google Calendar, Google Drive) — шаг с возможностью «Пропустить»
- [x] Резюме онбординга + переход в приложение

## Эпик: Чаты
- [x] Список чатов: поиск, папки, пины/избранное, сортировки
- [x] Экран чата: поддержка текста, изображений/файлов, голосовой диктовки (системная)
- [x] Отправка/получение: потоковый ответ, Regenerate, Edit&Resend, копирование
- [x] Поддержка Markdown и код-блоков с копированием
- [x] Панель быстрых действий: /команды, шорткаты, быстрые вложения (Камера/Фото/Файлы/Диктовка)
- [ ] Лимиты вложений (размер/количество) — UI‑валидация (значения уточнить)
- [x] Пустые состояния: первый чат / нет сети / лимиты / ошибки
- [x] Управление диалогами: создание/переименование/перемещение в папки/удаление
- [ ] Экран управления папками
- [x] Нет TTS, нет реакций/цитирования/пересылки (исключить из UI)

## Эпик: Устройства
- [x] Список устройств: тип ОС, версия, онлайн/оффлайн, последнее действие (моки)
- [x] Карточка устройства (детали): статус, логи, быстрые действия (запуск, остановка, перезапуск, обновление)
- [ ] Права/политики per device: теги/ограничения (UI моки), шаблоны политик
- [x] Экран логов: фильтры, поиск, пагинация (моки)

## Эпик: Действия (Active)
- [x] Экран активных действий: статусы (Queued/Running/Succeeded/Failed), прогресс
- [x] Операции: отмена/повтор/подробности
- [x] Пустые/ошибочные состояния

## Эпик: Интеграции
- [x] Список интеграций (Gmail, Telegram, Google Calendar, Google Drive)
- [x] Карточка интеграции: подключено/требуется вход, область доступа, «Переподключить»
- [x] Настройки per интеграция: разрешённые действия, уровень доступа (UI)
- [x] Обработка просроченных токенов — UI‑состояния без пуш‑уведомлений

## Эпик: Настройки
- [x] Профиль: аватар, имя, email, язык (English only)
- [x] Уведомления: типы (чаты/устройства/действия), приоритеты, «Не беспокоить»
- [x] Приватность: телеметрия (дефолт?), очистка истории, удаление локальных данных
- [x] Безопасность: App Lock (Face ID/код), скрытие превью в переключателе приложений
- [x] О правовых: Политика конфиденциальности, Условия, EULA — экраны
- [x] Помощь: FAQ, обратная связь (email), контакт поддержки

## Эпик: Уведомления и Live Activities
- [ ] Типы пушей: новые ответы, статусы действий, статусы устройств
- [ ] Навигация из пушей в нужные экраны (deeplink)
- [ ] Быстрые действия в пуше (решить позже) — заглушки в UI
- [ ] Live Activities: отображение прогресса активных задач устройств

## Эпик: Виджеты, Siri Shortcuts/App Intents, Share Sheet
- [ ] Виджеты: быстрый старт чата, последние чаты, быстрые действия устройств (моки)
- [ ] App Intents/Siri Shortcuts: создать чат, отправить быстрый промпт, запустить команду на устройстве (моки)
- [ ] Share Sheet: отправка текста/файлов в конкретный или новый чат

## Эпик: Монетизация (моки)
- [ ] Экран тарифов/paywall (мок контент)
- [ ] Возможность пропустить («Skip/Not now»)
- [ ] Скелет для восстановления покупок (UI‑кнопка, без логики)

## Эпик: Доступность и локализация
- [ ] Язык: English only, подготовить структуру для будущих локализаций
- [ ] Dynamic Type поддержка (масштабирование шрифтов)
- [ ] VoiceOver/Accessibility Labels для интерактивных элементов
- [ ] Контраст и размеры интерактивных зон (минимумы Apple HIG)

## Эпик: Анимации и микровзаимодействия (максимальные)
- [x] Отправка сообщения: тактильная отдача + анимация отправки
- [x] Потоковый ответ: плавное проявление, «typing» индикация
- [x] Состояния загрузки: скелетоны/шиммер
- [x] Переключения табов: живые переходы, физика
- [x] Перетаскивание вложений/превью: пружинящие эффекты
- [x] Общее: константы анимаций в `Theme.motion`, единый стиль

## Эпик: Дизайн‑система (UI‑компоненты)
- [x] Кнопки: Primary/Secondary/Tertiary/Destructive, размеры, иконки
- [x] Поля ввода: текстовые, email, код (OTP), состояние ошибки/валидности
- [x] Тумблеры/чекбоксы/радио (по необходимости UI)
- [x] Карточки/контейнеры: Surface, выделение, бордеры
- [x] Списки: ячейки, swipe‑actions, секции, разделители
- [x] Навигационные элементы: AppBar/Toolbar, TabBar, Segmented Control
- [x] Поиск: SearchBar/поле поиска, пустые состояния
- [x] Бейджи/теги/статусы
- [x] Диалоги/Bottom Sheet/Action Sheet/Toast/Banner
- [x] Плейсхолдеры/скелетоны для всех ключевых экранов

## Эпик: Состояния пустоты и ошибок
- [x] Единые иллюстрации/иконки для пустых состояний (монохром)
- [x] Тексты и CTA для: нет интернета, нет данных, ошибка запроса, нет прав/разрешений
- [ ] Экран технических работ/обновления приложения (мок)

## Эпик: Моки и данные
- [x] Единый слой MockData для чатов, устройств, действий, интеграций
- [x] Тумблер «Use Mock Data» в настройках разработчика (скрытый)
- [x] Стабильные id/фикстуры для deeplink и навигации

## Эпик: MVP скоуп (к релизу 1.0)
- [x] Навигация на 5 табов + базовые экраны
- [x] Sign In (Magic Link) + 2FA + Face ID App Lock
- [x] Онбординг с подключением аккаунтов (опционально)
- [x] Чаты: список/поиск/папки/пины + экран чата с текст/вложения/стрим/markdown
- [x] Устройства: список + карточка (моки)
- [x] Действия: список/детали (моки)
- [x] Интеграции: список/карточки/подключение (моки)
- [x] Настройки: профиль, уведомления, приватность, безопасность, легал, помощь
- [x] Пуши + deeplink в основные экраны
- [ ] Live Activities для активных задач (моки прогресс)
- [ ] Виджеты/Shortcuts/Share Sheet (моки)
- [x] Paywall (мок) с «Skip»
- [x] Базовые анимации и скелетоны
- [x] Доступность (база) и Dynamic Type

## Эпик: Backlog (v1.1+)
- [ ] Расширенные быстрые действия в пушах (Ответить/Отменить/Открыть устройство)
- [ ] Доп. форматы вложений, предпросмотры, ограничения по размерам
- [ ] Подробные политики per device с шаблонами
- [ ] Расширенные фильтры логов и сохранённые фильтры
- [ ] Продвинутая телеметрия с настраиваемой детализацией
- [ ] Тема Light и кастомизация

## Открытые решения (TBD)
- [ ] Подтвердить 5‑й таб: «Интеграции» ок?
- [ ] Значения лимитов вложений (размер/количество)
- [ ] Дефолт телеметрии (вкл/выкл по умолчанию)
- [ ] Набор быстрых действий в пуше
- [ ] Параметры TOTP (имя issuer, длительность шага)

## Definition of Done (общие критерии)
- [x] Экран покрыт: состояния загрузки, успеха, ошибки, пустоты
- [x] Соответствие токенам темы и типографике
- [ ] Доступность: Dynamic Type, VoiceOver метки, контраст
- [x] Локализация ключей/строк (пока en-US), готовность к i18n
- [x] Анимации соответствуют `Theme.motion`, не мешают доступности
- [x] Переходы/deeplinks работают из пушей (где применимо)
- [x] Моки/фикстуры добавлены и изолированно включаются

---

Примечания:
- iOS only, портрет; TTS/реакции/пересылка — вне MVP.
- Бэкенд и реальные токены не реализуем; UX ориентирован на моки и заглушки.

